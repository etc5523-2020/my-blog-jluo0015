---
title: COVID-19 situations of Japan
author: Jinhao Luo
date: "`r Sys.Date()`"
slug: etc5523-blog-1
categories: []
tags: []
subtitle: Exploring the situation of COVID-19 in Japan
summary: This post will explore the situation of COVID-19 in Japan
authors: []
lastmod: "`r Sys.time()`"
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
bibliography: references.bib
biblio-style: apa
output: 
  bookdown::html_document2:
    citation_package: biblatex
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE, cache=FALSE, message=FALSE, warning=FALSE)

library(tidyverse)
library(kableExtra)
library(tibble)
library(lubridate)
```

```{r data}
# install.package("devtools")
# devtools::install_github("RamiKrispin/coronavirus")

library(coronavirus)
data("coronavirus")
# update_dataset() 
# You can use this function to update the coronavirus package, but this post will use the version 0.3.0.9000 of package to write the data story.
```




# Introduction

Although Japan has dense and aging population, it still reported a low cases of COVID-19 infection in the first few months of the COVID-19 outbreak, compared with other countries (akiko). However, according to the latest [COVID-19 report](https://www.mhlw.go.jp/content/10900000/000666371.pdf) from Ministry of Health, Labour and Welfare of Japan, Japan has experience the second outbreak of COVID-19 from July, 2020. And it is more serious than the first one. Therefore, this post will focus on the COVID-19 cases of Japan. 

# Data description

For exploring the CPVID-19 situations of Japan, the post has used the COVID-19 data from the package called **coronavirus**. This package is from Github repository owned by Rami Krispin, which could find all information related to this package from [Github](https://github.com/RamiKrispin/coronavirus). By glimpsing this data, there are 175055 observations and 7 variables. Based on the help page of coronavirus package, @COVID-19 indicate the variables are: 

```{r variable-table}
tribble(~Variable, ~Class, ~Description,
        "date", "Date", "The format of date is YYYY-MM-DD",
        "province", "character", "Name of province or state, if provided",
        "country", "character", "Name of country or region",
        "lat", "numeric", "Latitude of center of geographic region",
        "long", "numeric", "Longitude of center of geographic region",
        "type", "character", "Type of cases (confirmed, death, recovered)",
        "cases", "integer", "Number of cases on given date") %>% 
  kable() %>% 
  kable_styling(bootstrap_options = c("hover", "striped", "condensed"), position = "center")
```

Because this post will focus on the cases of Japan, the **filter** function will be used for filter the data which make the data only include Japan's cases. Besides, because the types of COVID-19 case are all contained in the same column, the function call **pivot_wider** will be applied to change the position of type as variable rather than value.

# Data story

```{r summary-table}
# filter the Japan's cases and change the format of table
covid_19_japan <- coronavirus %>%
  filter(country == "Japan") %>% 
  select(-province, -lat, -long) %>%
  pivot_wider(names_from = "type", values_from = "cases") %>%
# Extract the year and month in order to calculate the cases base on month.
  mutate(year = year(date), month = month(date)) %>% 
  group_by(year,month) %>%
# Calculate the cases of each month
  summarise(confirmed = sum(confirmed),
            death = sum(death),
            recovered = sum(recovered)) %>%
# calculate the cumulative number of cases.
  ungroup() %>% 
  mutate(total_confirmed = cumsum(confirmed),
         total_death = cumsum(death),
         total_recovered = cumsum(recovered)) %>%
# Rename the variables' name to make better understanding
  rename(`monthly confirmed` = "confirmed",
         `monthly death` = "death",
         `monthly recovered` = "recovered",
         `cumulative confirmed` = "total_confirmed",
         `cumulative death` = "total_death",
         `cumulative recovered` = "total_recovered") %>% 
  kable(caption = "Summary table of COVID-19 cases in Japan") %>% 
  kable_styling(bootstrap_options = c("striped", "hover"), font_size = 16) %>% 
  column_spec(6:8, bold = T)

covid_19_japan
```

In order to explore the COVID-19 situations of Japan and identify the second breakout situation, a summary table has been generated to support the following explanation. Table \@ref(tab:summary-table) indicates the monthly cases and cumulative cases of Japan from the first patient has been confirmed to the end of August, 2020. 